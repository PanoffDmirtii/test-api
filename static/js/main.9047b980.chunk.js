(this["webpackJsonptest-api"]=this["webpackJsonptest-api"]||[]).push([[0],{69:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var c=n(2),a=(n(43),n(0)),i=n.n(a),r=n(18),s=n.n(r),o=n(17),j=n(16),l=n(5),u=n(72),d=n(73),b=n(74),O=n(75),h=n(76),f=n(12),x=n(35),m=n(36),p=n(40),v=n(39),S=function(e){return function(t){Object(p.a)(a,t);var n=Object(v.a)(a);function a(e){var t;return Object(x.a)(this,a),(t=n.call(this,e)).state={isVisibleTab:!0},t}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("visibilitychange",(function(){return e.setState({isVisibleTab:!document.hidden})}))}},{key:"componentWillUnmount",value:function(){var e=this;document.removeEventListener("visibilitychange",(function(){return e.setState({isVisibleTab:!1})}))}},{key:"render",value:function(){var t=Object(f.a)(Object(f.a)({},this.props),this.state);return Object(c.jsx)(e,Object(f.a)({},t))}}]),a}(i.a.Component)},E=n(37),_=n.n(E).a.create({baseURL:"https://api.binance.com/api/v3"}),N=function(){return _.get("/ticker/price?symbol=ETHBTC").then((function(e){return e.data}))},C={SET_COIN_SUCCESS:"SET_COIN_SUCCESS",SET_COIN_FAIL:"SET_COIN_FAIL",SET_RANGE_SUCCESS:"SET_RANGE_SUCCESS",SET_RANGE_FAIL:"SET_RANGE_FAIL"},T=function(){return function(e){return N().then((function(t){return e((n=t,{type:C.SET_COIN_SUCCESS,payload:n}));var n})).catch((function(e){return console.log(e)}))}},y=function(e){return function(t){return t(function(e){return{type:C.SET_RANGE_SUCCESS,payload:e}}(e))}},g=S((function(e){var t=e.isVisibleTab,n=Object(o.b)(),i=Object(o.c)((function(e){return e.coin})),r=i.data,s=i.diff,j=i.range;Object(a.useEffect)((function(){n(T())}),[]),Object(a.useEffect)((function(){var e=setTimeout((function c(){t&&(n(T()),e=setTimeout(c,1e3*+j))}),0);return function(){clearTimeout(e)}}),[j,t]);return r?Object(c.jsxs)("div",{children:[Object(c.jsx)(u.a,{className:"flex align-items-center mb-5 justify-content-center",children:Object(c.jsx)(d.a,{children:Object(c.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(c.jsx)("h3",{className:"mr-5",children:"".concat(r.price," ").concat(r.symbol)}),Object(c.jsx)("h3",{children:function(){var e=s?parseFloat(s).toFixed(4):"0.0000";return e>0?Object(c.jsxs)("span",{className:"text-success",children:["\u2191 ",e,"%"]}):e<0?Object(c.jsxs)("span",{className:"text-danger",children:["\u2193 ",e,"%"]}):Object(c.jsxs)("span",{className:"text-muted",children:[e,"%"]})}()})]})})}),Object(c.jsx)(u.a,{className:"flex align-items-center mb-3 justify-content-center",children:Object(c.jsx)(d.a,{sm:"3",children:Object(c.jsxs)(b.a,{children:[Object(c.jsx)(O.a,{children:"\u0427\u0430\u0441\u0442\u043e\u0442\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f"}),Object(c.jsxs)(h.a,{name:"range",type:"select",defaultValue:j,onChange:function(e){var t=e.target,c=t.value;t.name;n(y(c))},children:[Object(c.jsx)("option",{value:"10",children:"10"}),Object(c.jsx)("option",{value:"3",children:"3"}),Object(c.jsx)("option",{value:"1",children:"1"}),Object(c.jsx)("option",{value:"0.4",children:"0.4"}),Object(c.jsx)("option",{value:"0.1",children:"0.1"})]})]})})})]}):Object(c.jsx)("div",{children:"Loading..."})})),I=function(){return Object(c.jsx)("div",{className:"header",children:Object(c.jsxs)("ul",{className:"nav",children:[Object(c.jsx)("li",{className:"nav_item",children:Object(c.jsx)(j.b,{to:"/",children:"Home"})}),Object(c.jsx)("li",{className:"nav_item",children:Object(c.jsx)(j.b,{to:"/coin",children:"Coin"})})]})})},U=function(e){return Object(c.jsx)("div",{children:"Home"})},A=function(e){var t=e.children;return Object(c.jsx)("div",{className:"main",children:t})},L=function(e){return Object(c.jsxs)(j.a,{basename:"/test-api",children:[Object(c.jsx)(I,{}),Object(c.jsx)(A,{children:Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{path:"/",exact:!0,component:U}),Object(c.jsx)(l.a,{path:"/coin",exact:!0,component:g}),Object(c.jsx)(l.a,{path:"*",render:function(){return Object(c.jsx)("div",{children:"Not Found"})}})]})})]})};var R=function(){return Object(c.jsx)("div",{className:"app",children:Object(c.jsx)(L,{})})},F=(n(69),n(13)),k=n(38),G={data:null,diff:null,range:"10"},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.SET_COIN_SUCCESS:var n=t.payload.price,c=e.data?100*(+n/e.data.price-1):"";return Object(f.a)(Object(f.a)({},e),{},{data:t.payload,diff:c});case C.SET_RANGE_SUCCESS:return Object(f.a)(Object(f.a)({},e),{},{range:t.payload});default:return e}},w=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||F.d,D=Object(F.c)({coin:V}),H=Object(F.e)(D,w(Object(F.a)(k.a)));s.a.render(Object(c.jsx)(o.a,{store:H,children:Object(c.jsx)(R,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.9047b980.chunk.js.map